=== Mini Program API ===
Contributors: imahui
Donate link: https://www.imahui.com/about.html
Tags: rest api, api, 小程序
Requires at least: 4.9.8
Tested up to: 5.6.1
Requires PHP: 5.6
Stable tag: 1.3.7
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
 
由丸子小程序团队基于 WordPress REST 创建小程序应用 API 数据接口，实现 WordPress 连接小程序应用数据。
 
== Description ==

由丸子小程序团队基于 WordPress REST 创建小程序应用 API 数据接口，实现 WordPress 连接小程序应用数据。获取文章数据及分类数据，使用 WordPress REST API ，可以<a href="https://developer.wordpress.org/rest-api/" taraget="_blank">点击这里查看</a>使用帮助。 

自定义 API 接口功能如下：

1. 支持微信小程序 / QQ 小程序 / 百度智能小程序 / 字节跳动(今日头条)小程序授权登录。
2. 支持授权登录用户评论文章 / 点赞文章 / 收藏文章, 以及查看评论文章 / 点赞文章 / 收藏文章列表
3. 支持微信小程序二维码生成
4. 支持微信小程序评论消息通知, QQ 小程序评论消息通知
5. 支持自定义推荐文章, 可替换置顶文章在小程序中调用显示
6. 支持自定义用户管理列表 / 自定义评论管理列表, 用户注册平台清晰可见, 评论/点赞/收藏清晰可见
7. 支持获取文章所有图片前 9 张地址, 可以在小程序文章列表里调用 9 张图显示
8. 支持屏蔽古腾堡编辑器, 使用经典编辑器, 不需要安装经典编辑器插件
9. 支持小程序调用文章的上一篇和下一篇文章显示
10. 支持小程序视频展示, 可解析部分腾讯视频链接
11. 支持多种小程序广告功能, 包括微信小程序流量主广告、微信小程序跳转、活动链接广告、活动电话广告、微信小程序业务域名广告、复制广告口令内容
12. 支持百度智能小程序 Web 化信息设置

免费开源小程序：<a href="https://www.imahui.com/minapp/1747.html" target="_blank">点击这里查看丸子开源小程序系列</a>

小程序 API 高级版: <a href="https://www.imahui.com/minapp/1044.html" target="_blank">点击这里查看详情</a>

1. 提供小程序名称，小程序描述，小程序版本号设置以及微信用户分组，创建三个用户组，分别是：微信组，黑名单，白名单
2. 提供文章格式设置，文章格式包括：日志(aside), 相册(gallery), 链接(link), 图像(image), 引用(quote), 状态(status), 视频(video), 音频(audio), 聊天(chat)
3. 提供默认缩略图设置，即文章没有图像时，小程序调用设置的默认缩略图作为缩略图
4. 提供评论回复消息通知，支持用户回复某个评论时，推送服务消息通知给该条评论的用户，如果开启了评论审核，则通过审核时才发送通知
5. 提供话题发表时，通过审核发布话题，推送服务消息通知话题创建者。支持限制黑名单组用户发表话题，白名单用户组无须审核即可发表话题，默认用户组则采用无须审核发布
6. 提供小程序滑动图文自定义设置功能，默认采用置顶文章前 5 篇展示。如果开启自定义滑动图文选项，则写文章时，提供选项是否加入滑动图文显示
7. 支持默认文章列表是否输出文章内容选项，默认为输出文章内容
8. 提供自定义用户管理列表和自定义评论管理列表功能
9. 提供文章点赞/取消点赞，收藏/取消收藏，评论功能
10. 提供热门阅读文章/热门点赞文章/热门收藏文章/热门评论文章/随机文章功能，以及对应的列表内容是否显示功能
11. 提供是否显示文章所有图像地址，可用于文章列表显示多张文章内容插入的图像（仅获取前 9 张图）
12. 提供是否屏蔽古腾堡编辑器选择，包括不常用或不需要使用的 WP REST API 字段
13. 提供是否开启小程序评论审核选择
14. 提供是否开启小程序留言反馈选择
15. 支持自定义文章类型，创建话题/问答文章类型，类似小论坛功能，提供是否开启小程序话题讨论选择。
16. 提供是否开启小程序话题发表选择，默认关闭小程序话题发表入口
17. 提供是否开启文章输出上一篇及下一篇选择
18. 支持解析腾讯/抖音/微博视频地址解析，提供是否开启小程序视频/音频内容选择，采用自定义字段填写视频地址
19. 扩展是否开启清理分类描述 HTML 标签，图片重命名功能开启，清理后台菜单开启选择
20. 提供广告功能扩展，支持官方小程序广告组件（即流量主），小程序跳转，内页广告跳转，拔打电话功能，网站地址跳转，复制广告口令内容。
21. 增加插件中心，提供小程序辅助插件下载
22. 提供后台设置导航菜单，可实现随时替换导航内容以及排序
23. 增加社区互动关注功能
24. 增加积分功能，支持阅读/评论/发表/签到积分功能及积分设置

== Installation ==
 
如何安装 Mini Program API.

方法一：

1. 点击插件介绍页的 Download 下载 Mini Program API 插件安装包
2. 登录 WordPress 站点后台, 点击后台左侧菜单的插件项
3. 依次点击 安装插件 - 上传插件 - 选择文件 - 现在安装
4. 安装完成后, 点击启用即可

方法二：

1. 登录 WordPress 站点后台, 点击后台左侧菜单的插件项
2. 然后, 点击安装插件
3. 在右边搜索框中输入 Mini Program API 按回车键进行搜索
4. 选择 Mini Program API 插件(注意,作者是艾码汇) 点击现在安装
5. 安装完成后, 点击启用即可

== Frequently Asked Questions ==

1. 为什么 API 地址请求 404
请检查站点是否支持伪静态，是否设置了固定链接以及 Rest API 是否被禁用

2. 设置了固定链接，但仍然是 404 怎么办
请确定你的服务器或者空间是否支持 WordPress 伪静态, 即固定链接地址不能带有 index.php 形式
 
== Screenshots ==

1. 小程序授权
2. 常规设置
3. 优化设置
4. 功能扩展
5. 广告功能
 
== Changelog ==

= 1.3.7 =

1. 更新自定义置顶接口请求参数
2. 更新自定义接口返回数据钩子
3. 更新扩展评论自定义类型接口
4. 更新文章缩略图/海报封面过滤器钩子
5. 更新优化媒体字段信息及优化通知信息

= 1.3.6 =

1. 更新优化判断小程序客户端
2. 更新优化小程序菜单路由接口
3. 更新广告功能设置及路由接口
4. 更新优化获取小程序设置数据
5. 更新百度智能小程序 API 提交设置
6. 更新订阅消息相关函数功能及路由接口

= 1.3.5 =

1. 更新仪表盘 WordPress 小程序信息
2. 更新修复小程序设置广告功能警告信息

= 1.3.4 =

1. 更新微信内容安全检测
2. 更新文章评论点赞功能
3. 更新小程序二维码接口
4. 更新 API 文章列表图片
5. 更新 API 数据缓存方式
6. 更新 QQ 小程序授权登录错误提示

= 1.3.3 =

1. 更新核心框架设置项
2. 更新优化授权登录接口
3. 更新优化用户信息平台选项判断

= 1.3.2 =

1. 更新自定义路由接口查询参数钩子

= 1.3.1 =

1. 更新移除旧版广告功能
2. 更新自定义字段数据保存
3. 更新强化授权登录查询用户
4. 更新用户信息解密错误提示
5. 更新百度智能小程序 API 提交

= 1.3.0 =

1. 更新使用指南信息
2. 更新优化海报封面图地址
3. 更新优化文章数据输出字段
4. 更新优化字符串标签清理功能

= 1.2.9 =

1. 更新文章评论数钩子
2. 更新优化海报封面图地址
3. 更新文章自定义字段查询
4. 更新优化订阅消息通知功能
5. 更新优化微信订阅消息数据查询
6. 更新文章自定义字段数据返回扩展

= 1.2.8 =

1. 更新小程序广告功能
2. 更新海报封面图钩子
3. 更新微信小程序码功能
4. 更新文章视频媒体信息
5. 更新仪表盘小程序信息
6. 更新调试模式数据清理
7. 更新统计文章字符长度
8. 更新文章详情标签相关封面
9. 更新微信页面路径推送功能
10. 更新评论列表过滤评论类型
11. 更新文章点赞/收藏默认 10 个
12. 更新小程序封面设置及路由信息

= 1.2.7 =

1. 更新获取设置信息数组
2. 更新设置获取 Tabs 选项
3. 更新文章自定义字段类函数
4. 更新仪表盘欢迎信息通知消息
5. 更新优化我的点赞/收藏/评论文章接口
6. 更新腾讯视频解析, 增加腾讯视频短代码

= 1.2.6 =

1. 更新兼容问题
2. 更新自定义数据表类型
3. 更新授权登录错误信息反馈
4. 更新微信小程序二维码生成
5. 更新小程序 API 调试模式

= 1.2.5 =

1. 更新移除自定义字段扩展信息

= 1.2.4 =

1. 更新授权登录错误提示信息
2. 更新微信授权登录 Session_key 长度问题

= 1.2.3 =

1. 更新增加自定义字段类型：image
2. 更新修复自定义字段扩展面板设置 Bug
3. 更新详情广告 / 页面广告投放平台选项
4. 更新微信评论审核通过通知和文章评论回复提醒通知

= 1.2.2 =

1. 更新移除表态选项及路由
2. 更新优化和修复若干 Bug
3. 更新移除微信消息模板功能
4. 更新微信小程序订阅消息功能
5. 更新 QQ 小程序消息模板通知功能
6. 更新百度智能小程序消息模板通知功能

= 1.2.1 =

1. 更新小程序仪表盘信息
2. 更新微信内容安全接口: 文本检测

= 1.2.0 =

1. 更新样式 CSS 文件
2. 更新小程序 Secret 类型为文本

= 1.1.9 =

1. 更新修复百度智能小程序获取缩略图错误
2. 更新修复头条小程序客户端判断错误 Bug

= 1.1.8 =

1. 增加微信、QQ、百度、头条小程序客户端识别
2. 更新 Rest API 输出项, 兼容古腾堡编辑器

= 1.1.7 =

1. 修复文章格式形式 Bug
2. 更新设置选项关于密钥类型

= 1.1.6 =

1. 更新文章视频解析
2. 简化小程序设置项
3. 移除自定义用户管理列表及评论管理列表

= 1.1.5 =

1. 更新 DownloadFile 合法域名设置
2. 更新生成分享海报获取封面图的方式

= 1.1.4 =

1. 新增自定义字段 API 扩展
2. 更新修复页面摘要错误及百度 Web 化描述

= 1.1.3 =

1. 更新广告流量主参数
2. 更新百度智能小程序 Web 化信息项

= 1.1.2 =

1. 更新广告功能组件
2. 更新导航菜单功能
3. 更新今日头条小程序授权
4. 更新授权登录用户注册邮箱

= 1.1.1 =

1. 更新 QQ 评论回复通知选项显示
2. 更新广告功能, 增加投放平台选项
3. 更新百度评论回复通知消息模板设置显示功能
4. 更新百度开发者服务权限 Access Token 获取
5. 更新百度评论回复消息推送 / 审核通知消息推送

= 1.1.0 =

1. 更新支持文章列表筛选推荐文章列表
2. 更新屏蔽部分不需要 REST API 选项, 加入屏蔽古腾堡时同时屏蔽
3. 更新自定义用户管理列表项, 移除缓存有效时间, 显示用户注册平台
4. 新增 QQ 小程序评论回复消息通知功能, 支持微信 / QQ 评论消息通知

= 1.0.9 =

更新使用指南, 增加开源小程序下载地址及相关教程

= 1.0.8 =

更新修复部分失效函数, 采用 WP 原生函数

= 1.0.7 =

新增字节跳动小程序授权验证

= 1.0.6 =

1.修复设置选项被隐藏选项
2.增加百度小程序授权验证

= 1.0.5 =

修复 Rest API 部分定义错误

= 1.0.4 =

新增 QQ 小程序授权登录 API

= 1.0.3 =

更新文章当前用户是否点赞/收藏
 
= 1.0.2 =

更新自定义 API 获取数据错误
 
= 1.0.1 =

更新授权登录信息及验证方式
 
= 1.0 =

初始化版本

== Upgrade Notice ==

1. 新版更新修复部分 Bug 
2. 新版增加扩展丰富的功能

== Arbitrary section ==

== A brief Markdown Example ==